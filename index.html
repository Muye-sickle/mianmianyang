<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>完美爱心气泡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            height: 100vh;
            background: url('background-computer.jpg') center/cover no-repeat;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            /* 背景透明度通过JavaScript动态设置 */
        }
        .bubble {
            position: absolute;
            width: 48px;
            height: 48px;
            transform: scale(0);
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            cursor: pointer;
        }
        .bubble.active {
            transform: scale(1);
        }
        .bubble.fade {
            opacity: 0;
            transform: scale(0.5);
        }
    </style>
</head>
<body>
    <!-- 引入动画控制脚本 -->
    <script src="bubble-animation.js"></script>
    
    <script>
        // 初始化动画，可以传入自定义配置
        document.addEventListener('DOMContentLoaded', function() {
            // 设备检测
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // 电脑端配置
            const desktopConfig = {
                // 气泡大小(像素) - 控制每个气泡的宽度和高度
                // 增大: 气泡变大，需要更少气泡达到相同覆盖率，视觉冲击力强
                // 减小: 气泡变小，需要更多气泡，效果更细腻
                bubbleSize: 128,
                
                // 心形密集度 - 控制心形轮廓上点的密度(数值越小点越少)
                // 增大: 心形点变稀疏，可能不够连续，性能略微提升
                // 减小: 心形点变密集，边缘更平滑，轻微增加渲染负担
                heartDensity: 20,
                
                // 心形尖端点数 - 控制心形底部尖角处额外添加的点数量
                // 增大: 心形尖角更锐利明显，增加细节表现
                // 减小: 心形尖角可能显得圆钝，减少细节但提升性能
                tipDensity: 1,
                
                // 心形缩放因子 - 控制心形整体大小
                // 增大: 心形变大，可能超出屏幕边界
                // 减小: 心形变小，为后续填充留出更多空间
                heartScaleFactor: 0.030,
                
                // 心形点显示延迟(毫秒) - 控制心形"绘制"的速度
                // 增大: 心形形成过程变慢，节奏更舒缓
                // 减小: 心形快速显现，节奏更快
                heartPointDelay: 150,
                
                // 填充间隔(毫秒) - 控制随机填充屏幕的时间间隔
                // 增大: 填充过程变慢，每个气泡出现间隔更明显
                // 减小: 快速填满屏幕，视觉冲击力更强
                fillInterval: 120,
                
                // 消失间隔(毫秒) - 控制气泡消失的时间间隔
                // 增大: 气泡消失过程更缓慢，结束更优雅
                // 减小: 气泡快速消失，结束更干脆
                disappearInterval: 50,
                
                // 屏幕覆盖率(0-1) - 控制气泡覆盖屏幕的百分比
                // 增大: 更多气泡被生成，动画持续时间更长
                // 减小: 生成气泡数量减少，动画更快完成
                coveragePercentage: 0.4,
                
                // GIF文件数量 - 指定bubble文件夹中GIF文件的数量
                // 增大: 更多样式变化，视觉更丰富但需确保文件存在
                // 减小: 样式重复度增加，减少资源需求
                gifFiles: 18,
                
                // 背景透明度(0-1) - 控制背景图片的透明度
                // 增大: 背景更清晰，可能更突出
                // 减小: 背景更淡，更不显眼
                backgroundOpacity: 0.8,
                
                // GIF透明度(0-1) - 控制气泡GIF的透明度
                // 增大: 气泡更清晰，更突出
                // 减小: 气泡更淡，更柔和
                gifOpacity: 1
            };
            
            // 手机端配置
            const mobileConfig = {
                // 气泡大小(像素) - 控制每个气泡的宽度和高度
                bubbleSize: 60,
                
                // 心形密集度 - 控制心形轮廓上点的密度
                heartDensity: 10,
                
                // 心形尖端点数 - 控制心形底部尖角处额外添加的点数量
                tipDensity: 1,
                
                // 心形缩放因子 - 控制心形整体大小
                heartScaleFactor: 0.025,
                
                // 心形点显示延迟(毫秒) - 控制心形"绘制"的速度
                heartPointDelay: 150,
                
                // 填充间隔(毫秒) - 控制随机填充屏幕的时间间隔
                fillInterval: 120,
                
                // 消失间隔(毫秒) - 控制气泡消失的时间间隔
                disappearInterval: 50,
                
                // 屏幕覆盖率(0-1) - 控制气泡覆盖屏幕的百分比
                coveragePercentage: 0.4,
                
                // GIF文件数量 - 指定bubble文件夹中GIF文件的数量
                gifFiles: 18,
                
                // 背景透明度(0-1) - 控制背景图片的透明度
                backgroundOpacity: 0.8,
                
                // GIF透明度(0-1) - 控制气泡GIF的透明度
                gifOpacity: 1
            };
            
            // 根据设备类型选择配置
            const config = isMobile ? mobileConfig : desktopConfig;
            
            // 使用配置初始化动画
            const animation = new BubbleAnimation(config);
            
            // 启用自动循环模式
            animation.enableAutoLoop();
        });
    </script>
</body>
</html>